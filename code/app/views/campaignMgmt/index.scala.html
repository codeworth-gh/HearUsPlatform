@import views.BackOfficeSections
@import be.objectify.deadbolt.scala.AuthenticatedRequest

@(campaigns:Seq[Campaign])(implicit request:AuthenticatedRequest[_], msgs:MessagesProvider)

@bottom = {
  <script src="@routes.Assets.versioned("js/campaignsAdmin.js")"></script>
}

@templates.backEndBase("campaignMgmt.index.title", BackOfficeSections.MyCampaigns, Html(""), bottom) {
  @comps.pageTitleRow(Messages("campaignMgmt.index.title")){

  }
  <div class="row">
    <div class="col">
      @comps.pageTitleRow(""){
        <a class="btn btn-outline-primary" href="@routes.CampaignMgrCtrl.createCampaign()"><i class="fa fa-plus-circle"></i> @Messages("campaigns.createNew")</a>
      }
      @if(campaigns.nonEmpty) {
        <ul>
        @for(c <- campaigns) {
          <li>
            <strong>@c.title</strong>
            @if(c.slogan.trim.nonEmpty) {@c.slogan}
            <a class="btn btn-sm btn-outline-primary" href="@routes.CampaignMgrCtrl.details(c.id)"><i class="fa fa-edit"></i>
              @Messages("edit")</a>
            <button type="button" name="deleteBtn" onclick="deleteCampaign(@c.id, 'campaigner');" class="btn btn-sm btn-outline-danger"><i class="fa fa-trash"></i> @Messages("delete")</button>
          </li>
        }
        </ul>
      } else {
        <div class="noData">
          @Messages("campaignMgmt.myCampaigns.noCampaigns")
          <a href="@routes.CampaignMgrCtrl.createCampaign()">@Messages("campaigns.createNew")</a>
        </div>
      }
    </div>
  </div>
}